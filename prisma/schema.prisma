generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model accounts {
  id        Int            @id @default(autoincrement())
  fName     String         @db.VarChar(255)
  lName     String         @db.VarChar(255)
  email     String
  createdAt DateTime       @default(now())
  pass      String
  updatedAt DateTime       @updatedAt
  username  String         @db.VarChar(255)
  role      String
  isAdmin   Boolean        @default(false)
  analytics acc_analytics?
  settings  acc_settings?
  profile   acc_profiles?
  designs   designs[]

  @@unique([email, username])
}

model acc_analytics {
  userId        Int             @id
  user          accounts        @relation(fields: [userId], references: [id])
}

model acc_settings {
  userId Int                    @id
  theme  Boolean                @default(false)
  user   accounts               @relation(fields: [userId], references: [id])
}

model acc_profiles {
  userId    Int             @id
  pitch     String?
  website   String?
  discord   String?
  facebook  String?
  instagram String?
  twitter   String?
  avatar    acc_avatar?  
  banner    acc_banner?
  user      accounts        @relation(fields: [userId], references: [id])
}

model acc_avatar {
  userId    Int             @id 
  image     String
  ext       String
  link      String
  createdAt DateTime        @default(now())
  updatedAt DateTime        @updatedAt
  profile   acc_profiles    @relation(fields: [userId], references: [userId])
}

model acc_banner {
  userId    Int             @id
  image     String
  ext       String
  link      String
  createdAt DateTime      @default(now())
  updatedAt DateTime      @updatedAt
  profile   acc_profiles  @relation(fields: [userId], references: [userId])
}

model designs {
  userId    Int             @id
  image     String
  ext       String
  link      String
  createdAt DateTime        @default(now())
  user      accounts        @relation(fields: [userId], references: [id])
}

